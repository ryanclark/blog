<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <title>Getting started with React</title>

  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />
<link href="/css/main.2ab3f8961b31d8f18dcf1491ae95766a.css" rel="stylesheet"></head>
<body>

<aside class="sidebar">
  <div class="sidebar__fixed">
    <div class="sidebar__info">
      
      <a href="/" class="logo">
        <canvas width="72px" height="72px"></canvas>
      </a>
      

      <div class="sidebar__overlay ">
        <span class="sidebar__title">ryanclark.me</span>

        <ul class="social">
          <li class="social__item">
            <a target="_blank" href="https://twitter.com/rynclark">
              <i class="fa fa-fw fa-twitter"></i>
            </a>
          </li>
          <li class="social__item">
            <a target="_blank" href="/feed.xml">
              <i class="fa fa-fw fa-rss"></i>
            </a>
          </li>
          <li class="social__item">
            <a target="_blank" href="http://github.com/rynclark">
              <i class="fa fa-fw fa-github"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>

    <nav class="navigation">
      <ul class="navigation__list">
        <li class="navigation__item">
          <h3 class="navigation__header">Deep Dive Series</h3>
        </li>
        <li class="navigation__item">
          <a href="/" class="navigation__link">
            Webpack
          </a>
        </li>
      </ul>
      <ul class="navigation__list">
        <li class="navigation__item">
          <h3 class="navigation__header">React</h3>
        </li>
        <li class="navigation__item">
          <a href="/going-native-with-react/" class="navigation__link">
            Go native with React
          </a>
        </li>
        <li class="navigation__item">
          <a href="/getting-started-with-flux/" class="navigation__link">
            Introduction to Flux
          </a>
        </li>
        <li class="navigation__item">
          <a href="/getting-started-with-react/" class="navigation__link">
            Getting started with React
          </a>
        </li>
      </ul>
      <ul class="navigation__list">
        <li class="navigation__item">
          <h3 class="navigation__header">Angular</h3>
        </li>
        <li class="navigation__item">
          <h4 class="navigation__sub-header">1.x</h4>
        </li>
        <li class="navigation__item">
          <a href="/how-angularjs-implements-dirty-checking/" class="navigation__link">
            How Angular dirty checks
          </a>
        </li>
      </ul>
      <ul class="navigation__list">
        <li class="navigation__item">
          <h3 class="navigation__header">Misc</h3>
        </li>
        <li class="navigation__item">
          <a href="/rgb-to-hex-via-binary-shifting/" class="navigation__link">
            RGB to hex via binary shifting
          </a>
        </li>
      </ul>
    </nav>

    <div class="sidebar__progress">
      <div class="sidebar__progress__bar"></div>
    </div>
  </div>
</aside>


<section class="content">
  <div class="container">
    <article class="article">
	<header>
		<h2>Getting started with React</h2>
		<span class="time">17 Feb 2015</span>
	</header>

  <div class="post contents">

    <div class="warning">
      <i class="fa fa-exclamation-circle"></i>

      The version of React used in this is quite old - certain things may be done differently in recent releases
    </div>


    <div class="product-versions">

<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="err">//</span> <span class="err">Versions</span>
  <span class="nt">&quot;react&quot;</span><span class="p">:</span> <span class="s2">&quot;0.12.2&quot;</span>
<span class="p">}</span></code></pre></div>

    </div>


	  <p>React is an insanely powerful framework by the amazing developers over at Facebook. Implementing a virtual DOM, it allows us to render components super fast whilst removing any unnecessary overhead from DOM operations. React is often said to deal with the “V” out of the MVC architecture, however when you mix this with Flux, you can have a full blown front-end framework that allows you to easily keep your model and view in sync<!--more--> - more on Flux soon.</p>

<h1 id="components">Components</h1>
<p>In React you can create components that have special functionality that you won’t find in a HTML element, i.e. a dropdown navigation, which we will be creating in this tutorial. Each component is contained in its own “scope”, so we can define the functionality of the component and reuse it as many times as we want without them interfering with each other.</p>

<p>Each component has a <code>render</code> function, which effectively returns the HTML that the component will render in the browser. We can call other React component’s too, meaning the possibilities are endless!</p>

<h2 id="jsx">JSX</h2>
<p>If you’ve had a look around React you will have seen something called JSX. What JSX allows us to do is write HTML inside of Javascript without having to wrap strings around it. This helps with rapid development, as we don’t have to worry about strings and multiple lines etc. You can transform the JSX in the browser on runtime, but this is not recommended as it slows down your page. Both gulp and grunt offer a JSX transformer for your preprocess build tasks, so if you want to use JSX, I recommend setting this up.</p>

<h3 id="using-jsx">Using JSX</h3>
<p>As previously mentioned, each component has to have a <code>render</code> function. This acts as a “ViewModel” - before you return your HTML for the component, you can manipulate the model information into view information, meaning that your HTML could change drastically depending on the model (e.g. a dynamic repeated list of items).</p>

<p>Once you’ve done all your manipulation, you can return what you want to render. As we’re using JSX, this is really simple -</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js">1
2
3
4
5
6
7
8
9</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ExampleComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation&quot;</span><span class="o">&gt;</span>
				<span class="nx">Hello</span> <span class="nx">World</span><span class="o">!</span>
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

</div>

<p>If you run this code in your browser, you will get syntax errors, as you can’t put <code>&lt;</code> or <code>&gt;</code> characters in Javascript without putting quotes around them. However, when you run the JSX transformer on your code, it turns it into this -</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js">1
2
3
4
5
6
7</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ExampleComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">className</span><span class="o">:</span> <span class="s1">&#39;navigation&#39;</span><span class="p">},</span> <span class="s1">&#39;Hello World!&#39;</span><span class="p">)</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

</div>

<p><a href="http://jsfiddle.net/ryanclark/w04r9hbj/" target="_blank">You can check out a demo here</a> - I’m using the browser JSX transformer (this isn’t recommended, but is needed for JSFiddle).</p>

<p>Which runs! JSX transforms any DOM node that you use into a function call to <code>React.createElement</code>, passing through the type of node, the parameters and the contents. You don’t have to use JSX, but it means you have to manually write out <code>React.createElement</code> calls for every DOM node. In every example from now I will be using JSX.</p>

<p>You might be wondering why I’m using <code>className</code> on the DOM node instead of <code>class</code>. This is because <code>class</code> is a reserved word in Javascript. When JSX transforms your code it changes all the attributes on the node into an object, and you can’t have class as a property!</p>

<h4 id="using-variables-for-attributes">Using variables for attributes</h4>
<p>If you want to dynamically change the class of a component (or any other attribute value), you can use a variable instead. However you can’t just pass through the variable name, you have to wrap it around a set of curly braces, so JSX knows that it is an external variable.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ExampleComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">navigationClass</span> <span class="o">=</span> <span class="s1">&#39;navigation&#39;</span><span class="p">;</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span> <span class="nx">navigationClass</span> <span class="p">}</span><span class="o">&gt;</span>
				<span class="nx">Hello</span> <span class="nx">World</span><span class="o">!</span>
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

</div>

<p><a href="http://jsfiddle.net/ryanclark/w04r9hbj/1/" target="_blank">You can check this out here.</a></p>

<h2 id="the-initial-render">The Initial Render</h2>
<p>When you initially want to render a React component, you need tell React what component to render, and point to an existing DOM node for where to render it. To do this you would use the <code>React.render</code> function.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ExampleComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation&quot;</span><span class="o">&gt;</span>
				<span class="nx">Hello</span> <span class="nx">World</span><span class="o">!</span>
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">ExampleContent</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
</pre></div>
</td></tr></table>

</div>

<p>This will render the component on the body - simple! From here you can call your other components normally, or if you wish, you can use the <code>render</code> function multiple times, if you don’t want your whole page to be rendered using React, but still want to use multiple components.</p>

<h2 id="basics-of-a-component">Basics of a component</h2>
<p>Components can hold their own “state”. This allows us to reuse the same component multiple times, and have them looking completely different because the state is unique to each instance of the component. </p>

<p>When you pass through attributes to a component these are referred to as properties. You aren’t just limited to the HTML attributes though, you can pass through whatever you like and access it in the component via <code>this.props</code>. This allows us to reuse the same component but pass through a different set of properties - like a “configuration” of the component.</p>

<h3 id="properties">Properties</h3>
<p>Referring to our previous “Hello World!” example, you can see that we have the <code>className</code> attribute on the HTML node. Inside the component, we can access this value using <code>this.props.className</code>, but as previously mentioned you can pass through whatever you like. For our dropdown, we are going to configure the navigation as an object, and the component is going to use that as a configuration for what to render. Let’s start -</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">navigationConfig</span> <span class="o">=</span> <span class="p">[];</span>

<span class="kd">var</span> <span class="nx">Navigation</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation&quot;</span><span class="o">&gt;</span>
				
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Navigation</span> <span class="nx">config</span><span class="o">=</span><span class="p">{</span> <span class="nx">navigationConfig</span> <span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
</pre></div>
</td></tr></table>

</div>

<p>If we were to access <code>this.props.config</code> now, we could receieve an empty array (the value of <code>navigationConfig</code>). Before we move on to actually coding the navigation, let’s talk about state.</p>

<h3 id="state">State</h3>
<p>As previously discussed, each component has its own “state”. When using state, you define an initial state and then you can update the state using <code>this.setState</code>. Whenever the state is updated, the component will call the <code>render</code> function again, and replace/change the difference between the previous render value and the new one. This is where the virtual DOM kicks in - the difference algorithm is done internally in React, so we don’t rely on the DOM updating (as the DOM is slow). React will calculate the difference and produce a sort of instruction set of what to do (e.g. add class “active” to “navigation__link” or remove a node), and perform them on the DOM.</p>

<p>With our navigation we are going to keep what dropdown is currently open in the state. To do this, we add a <code>getInitialState</code> function to the class configuration object, and return an object with the initial state we want.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">navigationConfig</span> <span class="o">=</span> <span class="p">[];</span>

<span class="kd">var</span> <span class="nx">Navigation</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">openDropdown</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span>
		<span class="p">};</span>
	<span class="p">},</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation&quot;</span><span class="o">&gt;</span>
				
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Navigation</span> <span class="nx">config</span><span class="o">=</span><span class="p">{</span> <span class="nx">navigationConfig</span> <span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
</pre></div>
</td></tr></table>

</div>

<p>You’ll notice that we’ve set it to -1. When we come to opening a dropdown, we will use the position of the navigation item in the configuration array in the state, and as arrays start at 0, we have to use -1 to not point it to a navigation item.</p>

<p>We can access the state via <code>this.state</code>, so if we were to have a look at <code>this.state.openDropdown</code>, we would get -1 returned.</p>

<h2 id="the-component-lifecycle">The component lifecycle</h2>
<p>Each component has a “lifecycle” - these are a set of functions that you can define in the component’s configuration and they will get called sometime during the components life. We’ve already had a look at <code>getInitialState</code> - this is only called once, and is called as the component is being mounted.</p>

<h3 id="componentwillmount">componentWillMount</h3>
<p>As soon as your component is about to be mounted, this is called. This means that we can run code that is necessary to our component functioning. As <code>render</code> is called multiple times in the components life, we would generally put code here that we would only ever want executed once, i.e. XHR requests.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ExampleComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">componentWillMount</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="c1">// xhr request here to get data</span>
	<span class="p">},</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="c1">// this gets called many times in a components life</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
				<span class="nx">Hello</span> <span class="nx">World</span><span class="o">!</span>
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

</div>

<h3 id="componentdidmount">componentDidMount</h3>
<p>Once your component has ran the render function and actually rendered your component in the DOM, <code>componentDidMount</code> is called. This allows us to get access to the root DOM node of the component. Here we can do any DOM manipulation we need or anything that relies on component actually being in the DOM, for instance rendering a chart. You can access the DOM node internally by calling <code>this.getDOMNode</code>.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ExampleComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getDOMNode</span><span class="p">();</span>

		<span class="c1">// render a chart on the DOM node</span>
	<span class="p">},</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
				<span class="nx">Hello</span> <span class="nx">World</span><span class="o">!</span>
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

</div>

<h3 id="componentwillunmount">componentWillUnmount</h3>
<p>If you were to remove the component from the DOM, this function is called. This allows us to clean up after the component, such as removing any event listeners that we’ve bound. If we didn’t clean up after ourselves and one of the event listeners was fired, we’d be trying to manipulate an unmounted component, and React would throw an error.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ExampleComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">componentWillUnmount</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="c1">// unbind any event listeners specific to this component</span>
	<span class="p">},</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
				<span class="nx">Hello</span> <span class="nx">World</span><span class="o">!</span>
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

</div>

<h2 id="component-methods">Component Methods</h2>
<p>React also offers us methods for our components to make our lives much easier. These are called on the creation of the component. For example, <code>getInitialState</code>, which allows us to define a default state so we don’t have to worry about checking if the state item exists further down the line.</p>

<h3 id="getdefaultprops">getDefaultProps</h3>
<p>When we create the component we can define the default values for the properties of the component that we are expecting. This means that if we were to have the component called without these properties, the component has a default “configuration” and we don’t have to worry about checking for the properties later down the line.</p>

<p>When you define the component, these default properies are cached, so they are the same for every instance of the component and can’t be changed. For our navigation component, we will specify the configuration as an empty array, so we won’t get errors in the render function if there is no configuration passed through.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">Navigation</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">openDropdown</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span>
		<span class="p">};</span>
	<span class="p">},</span>
	<span class="nx">getDefaultProps</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">config</span><span class="o">:</span> <span class="p">[]</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation&quot;</span><span class="o">&gt;</span>
				
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Navigation</span> <span class="nx">config</span><span class="o">=</span><span class="p">{</span> <span class="nx">navigationConfig</span> <span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
</pre></div>
</td></tr></table>

</div>

<h3 id="proptypes">propTypes</h3>
<p>We can also specify the type of each property we are expecting. This is extremely useful as we don’t have to check and handle with unexpected values of properties. For use in the dropdown, we will specify that only an array can be passed through as the configuration.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">Navigation</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">openDropdown</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span>
		<span class="p">};</span>
	<span class="p">},</span>
	<span class="nx">getDefaultProps</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">config</span><span class="o">:</span> <span class="p">[]</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="nx">propTypes</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">config</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">array</span>
	<span class="p">},</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation&quot;</span><span class="o">&gt;</span>
				
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Navigation</span> <span class="nx">config</span><span class="o">=</span><span class="p">{</span> <span class="nx">navigationConfig</span> <span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
</pre></div>
</td></tr></table>

</div>

<h3 id="mixins">mixins</h3>
<p>We can also pass in mixins to our component. These are basically uncreated React components (so just an object of configuration). This means that if we have two components that share the same functionality somewhere in our configuration (such as the same initial state), we can abstract this and put the method in a mixin, so we don’t have to write the same code twice.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">ExampleMixin</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="c1">// bind some event listeners here</span>
	<span class="p">},</span>
	<span class="nx">componentWillUnmount</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="c1">// unbind those events here!</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">ExampleComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">mixins</span><span class="o">:</span> <span class="p">[</span><span class="nx">ExampleMixin</span><span class="p">],</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
				<span class="nx">Hello</span> <span class="nx">World</span><span class="o">!</span>
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">AnotherComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">mixins</span><span class="o">:</span> <span class="p">[</span><span class="nx">ExampleMixin</span><span class="p">],</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
				<span class="nx">Hello</span> <span class="nx">World</span><span class="o">!</span>
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>

</div>

<p>Both of these components will have the same <code>componentDidMount</code> and <code>componentWillUnmount</code> functions, saving us rewriting the code. However, you cannot override these properties, if a property is set in a mixin, it can’t be overriden in the component.</p>

<h2 id="loop-de-loop">Loop de loop</h2>
<p>As we have an array of objects, we need to somehow loop through the array and render a list item for each one. As JSX allows you to use it where ever you want in your Javascript files, you can map the array and return JSX in its place, and then pass it through to React to render.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">navigationConfig</span> <span class="o">=</span> <span class="p">[</span>
	<span class="p">{</span>
		<span class="nx">href</span><span class="o">:</span> <span class="s1">&#39;http://ryanclark.me&#39;</span><span class="p">,</span>
		<span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;My Website&#39;</span>
	<span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">Navigation</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">openDropdown</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span>
		<span class="p">};</span>
	<span class="p">},</span>
	<span class="nx">getDefaultProps</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">config</span><span class="o">:</span> <span class="p">[]</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="nx">propTypes</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">config</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">array</span>
	<span class="p">},</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">config</span><span class="p">;</span>

		<span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">config</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="p">(</span>
				<span class="o">&lt;</span><span class="nx">li</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__item&quot;</span><span class="o">&gt;</span>
					<span class="o">&lt;</span><span class="nx">a</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__link&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span> <span class="nx">item</span><span class="p">.</span><span class="nx">href</span> <span class="p">}</span><span class="o">&gt;</span>
						<span class="p">{</span> <span class="nx">item</span><span class="p">.</span><span class="nx">text</span> <span class="p">}</span>
					<span class="o">&lt;</span><span class="err">/a&gt;</span>
				<span class="o">&lt;</span><span class="err">/li&gt;</span>
				<span class="p">);</span>
		<span class="p">});</span>

		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation&quot;</span><span class="o">&gt;</span>
				<span class="p">{</span> <span class="nx">items</span> <span class="p">}</span>
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Navigation</span> <span class="nx">config</span><span class="o">=</span><span class="p">{</span> <span class="nx">navigationConfig</span> <span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
</pre></div>
</td></tr></table>

</div>

<p><a href="http://jsfiddle.net/ryanclark/w04r9hbj/2/" target="_blank">Feel free to mess around with the <code>navigationConfig</code> in this JSFiddle</a></p>

<p>Our navigation config consists of array of objects, containing a href property for where we want to go to and a text property for what we want to display as the link text. When we use <code>map</code>, we loop through the array and get the object for each iteration. This means we can then access <code>href</code> and <code>text</code>, and use them in our HTML. As we’re returning the list item, the item in the array will get replaced, so we when pass it through to React it will know what to render!</p>

<h2 id="put-it-all-together">Put it all together</h2>

<p>So far we’ve got state for our open dropdown and we’ve got a loop for all of our dropdown items. As we need to define what will go in the dropdowns, we’ll put an <code>children</code> property on each object in our <code>navigationConfig</code> array. We can then loop through these again for our dropdown items.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">navigationConfig</span> <span class="o">=</span> <span class="p">[</span>
	<span class="p">{</span>
		<span class="nx">href</span><span class="o">:</span> <span class="s1">&#39;http://ryanclark.me&#39;</span><span class="p">,</span>
		<span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;My Website&#39;</span><span class="p">,</span>
		<span class="nx">children</span><span class="o">:</span> <span class="p">[</span>
			<span class="p">{</span>
				<span class="nx">href</span><span class="o">:</span> <span class="s1">&#39;http://ryanclark.me/how-angularjs-implements-dirty-checking/&#39;</span><span class="p">,</span>
				<span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;Angular Dirty Checking&#39;</span>
			<span class="p">},</span>
			<span class="p">{</span>
				<span class="nx">href</span><span class="o">:</span> <span class="s1">&#39;http://ryanclark.me/getting-started-with-react/&#39;</span><span class="p">,</span>
				<span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;React&#39;</span>
			<span class="p">}</span>
		<span class="p">]</span>
	<span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">Navigation</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
	<span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">openDropdown</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span>
		<span class="p">};</span>
	<span class="p">},</span>
	<span class="nx">getDefaultProps</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">config</span><span class="o">:</span> <span class="p">[]</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="nx">propTypes</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">config</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">array</span>
	<span class="p">},</span>
	<span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">config</span><span class="p">;</span>

		<span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">config</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">dropdown</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">children</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">child</span><span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="p">(</span>
						<span class="o">&lt;</span><span class="nx">li</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__dropdown__item&quot;</span><span class="o">&gt;</span>
							<span class="o">&lt;</span><span class="nx">a</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__dropdown__link&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span> <span class="nx">child</span><span class="p">.</span><span class="nx">href</span> <span class="p">}</span><span class="o">&gt;</span>
								<span class="p">{</span> <span class="nx">child</span><span class="p">.</span><span class="nx">text</span> <span class="p">}</span>
							<span class="o">&lt;</span><span class="err">/a&gt;</span>
						<span class="o">&lt;</span><span class="err">/li&gt;</span>
					<span class="p">);</span>
				<span class="p">});</span>

				<span class="nx">dropdown</span> <span class="o">=</span> <span class="p">(</span>
					<span class="o">&lt;</span><span class="nx">ul</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__dropdown&quot;</span><span class="o">&gt;</span>
						<span class="p">{</span> <span class="nx">children</span> <span class="p">}</span>
					<span class="o">&lt;</span><span class="err">/ul&gt;</span>
				<span class="p">);</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="p">(</span>
				<span class="o">&lt;</span><span class="nx">li</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__item&quot;</span><span class="o">&gt;</span>
					<span class="o">&lt;</span><span class="nx">a</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__link&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span> <span class="nx">item</span><span class="p">.</span><span class="nx">href</span> <span class="p">}</span><span class="o">&gt;</span>
						<span class="p">{</span> <span class="nx">item</span><span class="p">.</span><span class="nx">text</span> <span class="p">}</span>
					<span class="o">&lt;</span><span class="err">/a&gt;</span>

					<span class="p">{</span> <span class="nx">dropdown</span> <span class="p">}</span>
				<span class="o">&lt;</span><span class="err">/li&gt;</span>
				<span class="p">);</span>
		<span class="p">});</span>

		<span class="k">return</span> <span class="p">(</span>
			<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation&quot;</span><span class="o">&gt;</span>
				<span class="p">{</span> <span class="nx">items</span> <span class="p">}</span>
			<span class="o">&lt;</span><span class="err">/div&gt;</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Navigation</span> <span class="nx">config</span><span class="o">=</span><span class="p">{</span> <span class="nx">navigationConfig</span> <span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
</pre></div>
</td></tr></table>

</div>

<p><a href="http://jsfiddle.net/ryanclark/w04r9hbj/3/" target="_blank">You can see this working here</a> - but we can still see the dropdown, even though our <code>openDropdown</code> is <code>-1</code>.</p>

<p>As we can access <code>this.state</code> inside the component, we can check if the dropdown is open, and apply a new CSS class to it so we can show it to the user as they hover over.</p>

<div class="code-block">

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-js" data-lang="js"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">navigationConfig</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nx">href</span><span class="o">:</span> <span class="s1">&#39;http://ryanclark.me&#39;</span><span class="p">,</span>
        <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;My Website&#39;</span><span class="p">,</span>
        <span class="nx">children</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nx">href</span><span class="o">:</span> <span class="s1">&#39;http://ryanclark.me/how-angularjs-implements-dirty-checking/&#39;</span><span class="p">,</span>
                <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;Angular Dirty Checking&#39;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nx">href</span><span class="o">:</span> <span class="s1">&#39;http://ryanclark.me/getting-started-with-react/&#39;</span><span class="p">,</span>
                <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;React&#39;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">Navigation</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
    <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nx">openDropdown</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span>
        <span class="p">};</span>
    <span class="p">},</span>
    <span class="nx">getDefaultProps</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nx">config</span><span class="o">:</span> <span class="p">[]</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">openDropdown</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
            <span class="nx">openDropdown</span><span class="o">:</span> <span class="nx">id</span>
        <span class="p">});</span>
    <span class="p">},</span>
    <span class="nx">closeDropdown</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
            <span class="nx">openDropdown</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span>
        <span class="p">});</span>
    <span class="p">},</span>
    <span class="nx">propTypes</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">config</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">array</span>
    <span class="p">},</span>
    <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">config</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">config</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">dropdown</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">children</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">child</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="p">(</span>
                        <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__dropdown__item&quot;</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__dropdown__link&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span> <span class="nx">child</span><span class="p">.</span><span class="nx">href</span> <span class="p">}</span><span class="o">&gt;</span>
                                <span class="p">{</span> <span class="nx">child</span><span class="p">.</span><span class="nx">text</span> <span class="p">}</span>
                            <span class="o">&lt;</span><span class="err">/a&gt;</span>
                        <span class="o">&lt;</span><span class="err">/li&gt;</span>
                    <span class="p">);</span>
                <span class="p">});</span>

                <span class="kd">var</span> <span class="nx">dropdownClass</span> <span class="o">=</span> <span class="s1">&#39;navigation__dropdown&#39;</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">openDropdown</span> <span class="o">===</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">dropdownClass</span> <span class="o">+=</span> <span class="s1">&#39; navigation__dropdown--open&#39;</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">openDropdown</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>

                <span class="nx">dropdown</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="o">&lt;</span><span class="nx">ul</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span> <span class="nx">dropdownClass</span> <span class="p">}</span><span class="o">&gt;</span>
                        <span class="p">{</span> <span class="nx">children</span> <span class="p">}</span>
                    <span class="o">&lt;</span><span class="err">/ul&gt;</span>
                <span class="p">);</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__item&quot;</span> <span class="nx">onMouseOut</span><span class="o">=</span><span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">closeDropdown</span> <span class="p">}</span> <span class="nx">onMouseOver</span><span class="o">=</span><span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">openDropdown</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">}</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation__link&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span> <span class="nx">item</span><span class="p">.</span><span class="nx">href</span> <span class="p">}</span><span class="o">&gt;</span>
                        <span class="p">{</span> <span class="nx">item</span><span class="p">.</span><span class="nx">text</span> <span class="p">}</span>
                    <span class="o">&lt;</span><span class="err">/a&gt;</span>

                    <span class="p">{</span> <span class="nx">dropdown</span> <span class="p">}</span>
                <span class="o">&lt;</span><span class="err">/li&gt;</span>
                <span class="p">);</span>
        <span class="p">},</span> <span class="k">this</span><span class="p">);</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;navigation&quot;</span><span class="o">&gt;</span>
                <span class="p">{</span> <span class="nx">items</span> <span class="p">}</span>
            <span class="o">&lt;</span><span class="err">/div&gt;</span>
            <span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="nx">React</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Navigation</span> <span class="nx">config</span><span class="o">=</span><span class="p">{</span> <span class="nx">navigationConfig</span> <span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
</pre></div>
</td></tr></table>

</div>

<p><a href="http://jsfiddle.net/ryanclark/w04r9hbj/4/" target="_blank">Watch it in action here</a> - mouse over “My Website” and the dropdown will appear!</p>

<p>I’ve gone ahead and added in the mouse events to each list item. You can see I’m using <code>.bind</code> on one call and not on the other - this is because when the user’s mouse moves out of the item, we don’t care where it moves to, all we know is that we need to close the dropdown, so we can set it to <code>-1</code> always. However, we need to know what dropdown to open when the user’s mouse enters the item, so we need to pass through a parameter (the index). The reason we use <code>bind</code> for this instead of just calling the function is because you need to pass React a function that can be invoked. If we call the function directly, we’ve already invoked it, instead of invoking it on the event.</p>

<p>We can now add many more items to our <code>navigationConfig</code> and add some styling to make it into an actual functioning dropdown. <a href="http://jsfiddle.net/ryanclark/w04r9hbj/5/" target="_blank">Check it out here</a>.</p>

<h1 id="conclusion">Conclusion</h1>

<p>React is a super easy framework to get into. Its simplistic API allows you to quickly make your components without any thought of manipulating the DOM or doing complex operations for repeating lists, etc. If you need any help at all, feel free to tweet me <a href="http://twitter.com/rynclark" target="_blank">@rynclark</a>. Thanks for reading!</p>

	</div>

  <span class="p">{</span>
  <span class="err">//</span>
  <span class="nt">&quot;flux&quot;</span>
  <span class="s2">&quot;2.0.1&quot;</span>
  <span class="nt">&quot;react&quot;</span>

	<div class="disqus">
		<div id="disqus_thread"></div>
	</div>
</article>

<script>
  var disqus_url = "http://ryanclark.me//getting-started-with-react";
  var disqus_title = "Getting started with React";
  var disqus_shortname = 'rynclark';
  (function() {
    var dsq = document.createElement('script');
    dsq.async = dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    document.getElementsByTagName('head')[0].appendChild(dsq);
  })();
</script>

<script>
  var c = document.querySelector('canvas');
  var ctx = c.getContext("2d");

  // SVG is resolution independent. Canvas is not. We need to make our canvas
  // High Resolution.

  // lets get the resolution of our device.
  var pixelRatio = window.devicePixelRatio || 1;

  // lets scale the canvas and change its CSS width/height to make it high res.
  c.style.width = c.width +'px';
  c.style.height = c.height +'px';
  c.width *= pixelRatio;
  c.height *= pixelRatio;

  // Now that its high res we need to compensate so our images can be drawn as
  //normal, by scaling everything up by the pixelRatio.
  ctx.setTransform(pixelRatio,0,0,pixelRatio,0,0);
  ctx.translate(-4, 0);

  var cw = c.width;
  var ch = c.height;

  function createClip(ctx) {
    ctx.save();
    ctx.miterLimit=4;
    ctx.scale(1.0973936899862824,1.0973936899862824);
    ctx.translate(0.17219917012447183,0);
    ctx.scale(1.0926694329183957,1.0926694329183957);
    ctx.restore();

    ctx.save();
    ctx.beginPath();
    ctx.moveTo(33.2,31.5);
    ctx.bezierCurveTo(33.2,36.3,31.400000000000002,39.5,27.900000000000002,41);
    ctx.lineTo(32.900000000000006,59.9);
    ctx.bezierCurveTo(33.10000000000001,60.8,32.7,61.199999999999996,31.900000000000006,61.199999999999996);
    ctx.lineTo(24.400000000000006,61.199999999999996);
    ctx.bezierCurveTo(23.700000000000006,61.199999999999996,23.300000000000004,60.8,23.200000000000006,60.199999999999996);
    ctx.lineTo(18.400000000000006,41.89999999999999);
    ctx.lineTo(13.400000000000006,41.89999999999999);
    ctx.lineTo(13.400000000000006,60);
    ctx.bezierCurveTo(13.400000000000006,60.7,13.000000000000005,61.2,12.200000000000006,61.2);
    ctx.lineTo(4.8,61.2);
    ctx.bezierCurveTo(4.1,61.2,3.5999999999999996,60.800000000000004,3.5999999999999996,60);
    ctx.lineTo(3.5999999999999996,4.7);
    ctx.bezierCurveTo(3.6,4,4,3.6,4.8,3.6);
    ctx.lineTo(22.900000000000002,3.6);
    ctx.bezierCurveTo(29.700000000000003,3.6,33.300000000000004,7.2,33.300000000000004,14);
    ctx.lineTo(33.300000000000004,31.5);
    ctx.closePath();
    ctx.moveTo(20.5,32.4);
    ctx.bezierCurveTo(22.4,32.4,23.4,31.4,23.4,29.5);
    ctx.lineTo(23.4,16);
    ctx.bezierCurveTo(23.4,14.1,22.4,13.1,20.5,13.1);
    ctx.lineTo(13.4,13.1);
    ctx.lineTo(13.4,32.4);
    ctx.lineTo(20.5,32.4);
    ctx.moveTo(69.3,21.7);
    ctx.bezierCurveTo(69.3,22.4,68.89999999999999,22.9,68.1,22.9);
    ctx.lineTo(60.89999999999999,22.9);
    ctx.bezierCurveTo(60.099999999999994,22.9,59.69999999999999,22.5,59.69999999999999,21.7);
    ctx.lineTo(59.69999999999999,16);
    ctx.bezierCurveTo(59.69999999999999,14.1,58.69999999999999,13.1,56.79999999999999,13.1);
    ctx.lineTo(53.09999999999999,13.1);
    ctx.bezierCurveTo(51.19999999999999,13.1,50.19999999999999,14.1,50.19999999999999,16);
    ctx.lineTo(50.19999999999999,48.8);
    ctx.bezierCurveTo(50.19999999999999,50.699999999999996,51.19999999999999,51.699999999999996,53.09999999999999,51.699999999999996);
    ctx.lineTo(56.79999999999999,51.699999999999996);
    ctx.bezierCurveTo(58.69999999999999,51.699999999999996,59.69999999999999,50.8,59.69999999999999,48.8);
    ctx.lineTo(59.69999999999999,43);
    ctx.bezierCurveTo(59.69999999999999,42.3,60.09999999999999,41.8,60.89999999999999,41.8);
    ctx.lineTo(68.1,41.8);
    ctx.bezierCurveTo(68.8,41.8,69.3,42.199999999999996,69.3,43);
    ctx.lineTo(69.3,50.8);
    ctx.bezierCurveTo(69.3,57.599999999999994,65.6,61.199999999999996,58.9,61.199999999999996);
    ctx.lineTo(50.8,61.199999999999996);
    ctx.bezierCurveTo(44,61.199999999999996,40.4,57.599999999999994,40.4,50.8);
    ctx.lineTo(40.4,14);
    ctx.bezierCurveTo(40.4,7.2,44.1,3.5999999999999996,50.8,3.5999999999999996);
    ctx.lineTo(58.9,3.5999999999999996);
    ctx.bezierCurveTo(65.6,3.5999999999999996,69.3,7.199999999999999,69.3,14);
    ctx.lineTo(69.3,21.7);
    ctx.closePath();
    ctx.clip();
  }

  var points = [];
  var tick = 0;
  var opt = {
    count: 5,
    range: {
      x: 0,
      y: 7
    },
    duration: {
      min: 20,
      max: 100
    },
    thickness: 0,
    strokeColor: '#444',
    level: 1,
    curved: true
  };

  var post = document.querySelector('.contents');
  var bar = document.querySelector('.header__progress__bar');

  var documentSize = document.body.scrollHeight;
  var postHeight = post.getBoundingClientRect().top + post.getBoundingClientRect().height;

  var bodyRect = document.body.getBoundingClientRect(),
    elemRect = post.getBoundingClientRect(),
    offsets   = elemRect.top - bodyRect.top;

  var offset = c.height + 5;

  ctx.lineWidth = 0;
  var timeout;
  function changeWidth() {
    var scrollPercentage = 1 - ((window.scrollY) / (elemRect.height + offsets - window.innerHeight));
    offset = (72 * scrollPercentage) + 5;
    ctx.lineWidth = 16 * Math.max(0, (1 - scrollPercentage) - 0.3);

    opt.range.y = 10;
    clearTimeout(timeout);
    timeout = setTimeout(function () {
      opt.range.y = 2;
    }, 1000);
  }

  window.addEventListener('scroll', changeWidth);
  window.addEventListener('resize', changeWidth);

  function rand(min, max){
    return Math.floor( (Math.random() * (max - min + 1) ) + min);
  }

  function ease(t, b, c, d) {
    if ((t/=d/2) < 1) return c/2*t*t + b;
    return -c/2 * ((--t)*(t-2) - 1) + b;
  }

  ctx.lineJoin = 'round';

  var Point = function(config){
    this.anchorX = config.x;
    this.anchorY = config.y;
    this.x = config.x;
    this.y = config.y;
    this.setTarget();
  };

  Point.prototype.setTarget = function(){
    this.initialX = this.x;
    this.initialY = this.y;
    this.targetX = this.anchorX + rand(0, opt.range.x * 2) - opt.range.x;
    this.targetY = this.anchorY + rand(0, opt.range.y * 2) - opt.range.y;
    this.tick = 0;
    this.duration = rand(opt.duration.min, opt.duration.max);
  }

  Point.prototype.update = function(){
    var dx = this.targetX - this.x;
    var dy = this.targetY - this.y;
    var dist = Math.sqrt(dx * dx + dy * dy);

    if(Math.abs(dist) <= 0){
      this.setTarget();
    } else {
      var t = this.tick;
      var b = this.initialY;
      var c = this.targetY - this.initialY;
      var d = this.duration;
      this.y = ease(t, b, c, d);

      b = this.initialX;
      c = this.targetX - this.initialX;
      d = this.duration;
      this.x = ease(t, b, c, d);

      this.tick++;
    }
  };

  Point.prototype.render = function(){
    ctx.beginPath();
    ctx.arc(this.x, this.y, 3, 0, Math.PI * 2, false);
    ctx.fillStyle = '#000';
    ctx.fill();
  };

  var updatePoints = function(){
    var i = points.length;
    while(i--){
      points[i].update();
    }
  };

  var renderPoints = function(){
    var i = points.length;
    while(i--){
      points[i].render();
    }
  };

  var lotsOfPoints = [];

  function quadraticBezierCurvePoint(t, c) {
    // compute relative coordinates of a point on the curve using t and c
    // t is a number between 0 and 1
    // c is an array of 3 points:
    //     the initial point of the curve (always (0,0))
    //     the "handle" point of the curve
    //     the final point of the curve
    var t1, t1_2a, t1_2b, t1_2c;
    t1 = 1 - t;
    t1_2a = t1 * t1;
    t1_2b = (2 * t) * t1;
    t1_2c = t * t;
    return {
      x: (c[0].x * t1_2a) + (t1_2b * c[1].x) + (t1_2c * c[2].x),
      y: (c[0].y * t1_2a) + (t1_2b * c[1].y) + (t1_2c * c[2].y)
    };
  }
  function b2p0(t, p) {
    var k = 1 - t;
    return k * k * p;
  }

  function b2p1(t, p) {
    return 2 * (1 - t) * t * p;
  }

  function b2p2(t, p) {
    return t * t * p;
  }

  function b2(t, p0, p1, p2) {
    return b2p0( t, p0 ) + b2p1( t, p1 ) + b2p2( t, p2 );
  }

  function tangentQuadraticBezier(p0, p1, p2, t) {
    return 2 * ( 1 - t ) * ( p1 - p0 ) + 2 * t * ( p2 - p1 );
  }
var log = false;
  var renderShape = function(){
    lotsOfPoints = [];
    ctx.beginPath();
    var pointCount = points.length;
    ctx.moveTo(points[0].x, points[0].y + offset);
    var i;
    for (i = 0; i < pointCount - 1; i++) {
      var c = (points[i].x + points[i + 1].x) / 2;
      var d = (points[i].y + points[i + 1].y) / 2;
      ctx.quadraticCurveTo(points[i].x, points[i].y + offset, c, d + offset);
    }
    ctx.lineTo(-opt.range.x - opt.thickness, ch + opt.thickness + offset);
    ctx.lineTo(cw + opt.range.x + opt.thickness, ch + opt.thickness + offset);
    ctx.closePath();
    ctx.fillStyle = pattern2;
    ctx.fill();
    ctx.strokeStyle = pattern;
    ctx.stroke();

    ctx.save();

    for (var i = 0; i < bubbles.length; i++) {
      bubbles[i].ycoord -= bubbles[i].move;
      if (bubbles[i].ycoord < (offset + 16)) {
        bubbles[i].xcoord = getRandomNum(0, cw);
        bubbles[i].ycoord = ch + maxRadius;
        bubbles[i].radius = getRandomNum(minRadius, maxRadius);
        bubbles[i].move = getRandomNum(minMove, maxMove);
      }

      ctx.beginPath();
      ctx.arc(bubbles[i].xcoord, bubbles[i].ycoord, bubbles[i].radius, 0, Math.PI*2, false);
      ctx.fillStyle = "rgba(0, 0, 0, 0.1)";
      ctx.fill();
      ctx.closePath();
    }
  };


  /**
   *  Get Random Integer
   */
  function getRandomInt (min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  /**
   *  Get Random Number
   */
  function getRandomNum(min, max) {
    return (Math.random() * (max - min + 1)) + min;
  }

  var bubbles = new Array();
  var bubblesNum = 75;

  var minRadius = 1;
  var maxRadius = 3;
  var minMove = 0.1;
  var maxMove = 0.2;

  for (var i = 0; i < bubblesNum; i++) {
    bubbles[i] = {
      xcoord: getRandomNum(0, cw),
      ycoord: getRandomNum(0, ch),
      radius: getRandomNum(minRadius, maxRadius),
      move: getRandomNum(minMove, maxMove)
    }
  }

  var clear = function(){
    ctx.clearRect(0, 0, cw, ch);
  };

  var i = opt.count + 2;
  var spacing = (cw + (opt.range.x * 2)) / (opt.count-1);
  while(i--){
    points.push(new Point({
      x: (spacing * (i - 1)) - opt.range.x,
      y: ch - (ch * opt.level)
    }));
  }


  window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();

  var loop = function(){
    window.requestAnimFrame(loop, c);
    tick++;
    clear();
    createClip(ctx);
    ctx.fillStyle = "#262626";
    ctx.fillRect(0, 0, cw, ch);

    updatePoints();
    renderShape();
  };
  var tempCanvas = document.createElement("canvas"),
    tCtx = tempCanvas.getContext("2d");

  var tempCanvas2 = document.createElement("canvas"),
    tCtx2 = tempCanvas2.getContext("2d");

  var pattern, pattern2;

  var img1 = new Image();
  //drawing of the test image - img1
  img1.onload = function () {
    tempCanvas.width = cw;
    tempCanvas.height = 16;
    tCtx.drawImage(img1, 0, 0, cw, 16, 0, 0, cw, 16);
    pattern = ctx.createPattern(tempCanvas, 'repeat');

    tempCanvas2.width = cw;
    tempCanvas2.height = ch;
    tCtx2.drawImage(img1, 0, 0, img1.width, img1.height, 0, -100, cw, ch + 100);
    pattern2 = ctx.createPattern(tempCanvas2, 'repeat');
    loop();
  };

  img1.src = 'http://static6.bigstockphoto.com/thumbs/1/5/9/small2/95113916.jpg';
</script>


    <div class="main-background">
      <div class="main-background__left">
        <div class="main-background__overlay"></div>
      </div>
      <div class="main-background__right">
        <div class="main-background__overlay"></div>
      </div>
    </div>
  </div>
</section>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49723822-1', 'auto');
  ga('send', 'pageview');
</script>

<script type="text/javascript" src="/js/main.9689d40cfa8b9bd78181.js"></script></body>
</html>
